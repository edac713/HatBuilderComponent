<!-- Load jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.js"></script>

<!-- Load Slick Carousel CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css" />

<!-- Load Custom CSS -->
{{ 'hat-builder.css' | asset_url | stylesheet_tag }}

<!-- Load Custom JS -->
{{ 'hat-builder.js' | asset_url | script_tag }}

<!-- ENTIRE Hat Builder Container -->
<div class="hat-builder-container">

  <!-- Hat Builder Header -->
  <div class="hat-builder-header">
    <div class="hat-builder-heading">Hat Builder</div>
  </div>

  <!-- Tabs to switch between patches and hats -->
  <div class="toggle-section">
    <div class="toggle-container">
      <!-- Existing Tabs -->
      <div class="toggle-button active" id="patchesToggle">
        <img src="https://shopify-shop-assets.storage.googleapis.com/s/files/1/d/ab22/0569/9295/6486/files/D238D762-E827-4BE8-BF0F-1BEB9A99CDA9.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=merchant-assets%40shopify-tiers.iam.gserviceaccount.com%2F20231012%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20231012T133935Z&X-Goog-Expires=300&X-Goog-SignedHeaders=host&X-Goog-Signature=248e72ac6fcb26d47b903622ca3f07e0003ce09b1d8f680eac14c7bae5edab1f61b82149de703c83c6ef76b1c82d6da3a37c44618cb4bf17eb737a190836aa7c8efc19c45fc2ba24268b1a81c334f8e01a41a49b4f5b30eb9a98ad95ef0e360eb73e531e4f8870e5d9f120675e04735cd077a2181c2679bddd48c4ca810d4dc730f4e4b84dc71bc536d8e5667960cb1486cc8940da845c917cef9ed64ffa8c26d0d2ed06dc2b13b01a42e5ba54052cf8ecd10bcc9244188d230d6f1174466980e7c083727996d1d8f1847cc129f5c0be7bb0ba8cb7f8bb3b78b533dfe0b01e7d9c365b4db1d43551d3f457d69f2f4a11f5dbdade706c3c433e648dcf78f70a62" alt="Patch Icon" width="20" height="20" style="margin-right: 8px;">Patches
      </div>
      <div class="toggle-button" id="hatsToggle">
        <img src="https://shopify-shop-assets.storage.googleapis.com/s/files/1/d/c7e8/0569/9295/6486/files/34FBE93F-4A92-4E89-A068-7CBC5D1F4ECC.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=merchant-assets%40shopify-tiers.iam.gserviceaccount.com%2F20231012%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20231012T133935Z&X-Goog-Expires=300&X-Goog-SignedHeaders=host&X-Goog-Signature=a39bd624330ae0125f9de2e966e4375938e9c40bc066cb3a5ade883d1b32ddf0833f5843c7c66220cff4c96036938c23bf5278720595ecd07abf630c1f9d9c017a02646c1aa09012745373a9ac4462bedd2af10b6c987aa9796c24b45db1fa3e49b0ce45ff77f1896fcf171ebed4a8c813bb23bbb44720a69037ccb0b52128abd636891364b846f822c5e7f0fa08763d2f06af48834501453eb7bc3f7a5d03fb1cb26b93d182a12c664caa3b32780087ebe8b34370c6030e67b8fed1eab56ca102f7f31f2e04a1af8a6810d05016757ac4f996327419afedc2637eb05ad1b11f3948ddac53424c696ba59f4afa358d8b9e5cea30027c9d520cc82aabdd89de95" alt="Hat Icon" width="26" height="26" style="margin-right: 8px;">Hats
      </div>
      <!-- Active state background -->
      <div class="active-background"> </div>
    </div>

    <!-- New Patch Drop-Down Menu -->
    <div id="patchDropDown" class="hatBuilderDropDown">
      <!-- Patch Collection List -->
      <div id="patchCollectionList" class="hatBuilderCollectionList">
        <!-- Collection Card 1: Nascar Drivers & Teams -->
        <div class="hatBuilderCollectionCard" id="patches-nascar-drivers-teams-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Nascar Drivers & Teams</h3>
            <p class="hatBuilderCardCount">40 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="nascar-drivers-teams-image.jpg" alt="Nascar Drivers & Teams Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 2: Speedways Racing Series -->
        <div class="hatBuilderCollectionCard" id="patches-speedways-racing-series-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Speedways Racing Series</h3>
            <p class="hatBuilderCardCount">30 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="speedways-racing-series-image.jpg" alt="Speedways Racing Series Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 3: Ag Farming -->
        <div class="hatBuilderCollectionCard" id="patches-ag-farming-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Ag Farming</h3>
            <p class="hatBuilderCardCount">25 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="ag-farming-image.jpg" alt="Ag Farming Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 4: Beer Liquor -->
        <div class="hatBuilderCollectionCard" id="patches-beer-liquor-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Beer & Liquor</h3>
            <p class="hatBuilderCardCount">35 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="beer-liquor-image.jpg" alt="Beer & Liquor Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 5: Car Truck Brands -->
        <div class="hatBuilderCollectionCard" id="patches-car-truck-brands-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Car & Truck Brands</h3>
            <p class="hatBuilderCardCount">50 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="car-truck-brands-image.jpg" alt="Car & Truck Brands Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 6: Racing Brands -->
        <div class="hatBuilderCollectionCard" id="patches-racing-brands-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Racing Brands</h3>
            <p class="hatBuilderCardCount">45 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="racing-brands-image.jpg" alt="Racing Brands Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 7: Diesel -->
        <div class="hatBuilderCollectionCard" id="patches-diesel-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Diesel</h3>
            <p class="hatBuilderCardCount">20 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="diesel-image.jpg" alt="Diesel Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 8: Drag Racing -->
        <div class="hatBuilderCollectionCard" id="patches-drag-racing-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Drag Racing</h3>
            <p class="hatBuilderCardCount">15 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="drag-racing-image.jpg" alt="Drag Racing Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 9: Hunting Fishing Guns -->
        <div class="hatBuilderCollectionCard" id="patches-hunting-fishing-guns-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Hunting, Fishing & Guns</h3>
            <p class="hatBuilderCardCount">30 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="hunting-fishing-guns-image.jpg" alt="Hunting, Fishing & Guns Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 10: Motorcycle Brands -->
        <div class="hatBuilderCollectionCard" id="patches-motorcycle-brands-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Motorcycle Brands</h3>
            <p class="hatBuilderCardCount">25 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="motorcycle-brands-image.jpg" alt="Motorcycle Brands Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 11: National Parks -->
        <div class="hatBuilderCollectionCard" id="patches-national-parks-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">National Parks</h3>
            <p class="hatBuilderCardCount">18 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="national-parks-image.jpg" alt="National Parks Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 12: Miscellaneous -->
        <div class="hatBuilderCollectionCard" id="patches-miscellaneous-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Miscellaneous</h3>
            <p class="hatBuilderCardCount">18 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="miscellaneous-image.jpg" alt="Miscellaneous Image" class="hatBuilderCardImage">
          </div>
        </div>
      </div>
    </div>

    <!-- New Hat Drop-Down Menu -->
    <div id="hatDropDown" class="hatBuilderDropDown">
      <!-- Hat Collection List -->
      <div id="hatCollectionList" class="hatBuilderCollectionList">
        <!-- Collection Card 1: Richardson -->
        <div class="hatBuilderCollectionCard" id="hats-richardson-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Richardson</h3>
            <p class="hatBuilderCardCount">20 hats</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="richardson-image.jpg" alt="Richardson Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 2: Imperial -->
        <div class="hatBuilderCollectionCard" id="hats-imperial-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Imperial</h3>
            <p class="hatBuilderCardCount">15 hats</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="imperial-image.jpg" alt="Imperial Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 3: Yupoong -->
        <div class="hatBuilderCollectionCard" id="hats-yupoong-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Yupoong</h3>
            <p class="hatBuilderCardCount">18 hats</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="yupoong-image.jpg" alt="Yupoong Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 4: Pacific -->
        <div class="hatBuilderCollectionCard" id="hats-pacific-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Pacific</h3>
            <p class="hatBuilderCardCount">12 hats</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="pacific-image.jpg" alt="Pacific Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 5: Flexfit -->
        <div class="hatBuilderCollectionCard" id="hats-flexfit-carousel">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Flexfit</h3>
            <p class="hatBuilderCardCount">10 hats</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="flexfit-image.jpg" alt="Flexfit Image" class="hatBuilderCardImage">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <div class="hat-builder-collection-label-container">
      <span class="hat-builder-collection-icon">
        <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <path d="M11.5 7.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" fill="#161616" />
          <path fill-rule="evenodd"
            d="M7.517 4.098a3.75 3.75 0 0 1 2.652-1.098h2.081a2.75 2.75 0 0 1 2.75 2.75v2.289a3.25 3.25 0 0 1-.952 2.298l-4.206 4.206a2.5 2.5 0 0 1-3.536 0l-2.672-2.672a2.75 2.75 0 0 1 0-3.89l3.883-3.883Zm2.652.402a2.25 2.25 0 0 0-1.591.659l-3.883 3.883a1.25 1.25 0 0 0 0 1.768l2.672 2.672a1 1 0 0 0 1.414 0l4.206-4.206a1.75 1.75 0 0 0 .513-1.237v-2.289c0-.69-.56-1.25-1.25-1.25h-2.081Z"
            fill="#161616" />
          <path
            d="M16.75 5.5a.75.75 0 0 1 .75.75v3.029a3.25 3.25 0 0 1-.968 2.313l-4.755 4.692a.75.75 0 1 1-1.054-1.068l4.756-4.692a1.75 1.75 0 0 0 .521-1.245v-3.029a.75.75 0 0 1 .75-.75Z"
            fill="#161616" />
        </svg>
      </span>
      <span class="hat-builder-collection-label">All Patches</span>
    </div>

  <!-- Hat Builder Carousel -->
  <div class="hat-builder-carousel-container">

    <!-- Patch Carousels Container -->
    <div class="patch-carousels">

      <!-- Default All Patches Carousel -->
      <div id="patches-all-carousel">
        {% for product in collections['patches'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Nascar Drivers Teams Patch Carousel -->
      <div id="patches-nascar-drivers-teams-carousel" style="display:none;">
        {% for product in collections['patches-nascar-drivers-teams'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Speedways Racing Series Patch Carousel -->
      <div id="patches-speedways-racing-series-carousel" style="display:none;">
        {% for product in collections['patches-speedways-racing-series'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- AG Farming Patch Carousel -->
      <div id="patches-ag-farming-carousel" style="display:none;">
        {% for product in collections['patches-ag-farming'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Beer Liquor Patch Carousel -->
      <div id="patches-beer-liquor-carousel" style="display:none;">
        {% for product in collections['patches-beer-liquor'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Car Truck Brands Patch Carousel -->
      <div id="patches-car-truck-brands-carousel" style="display:none;">
        {% for product in collections['patches-car-truck-brands'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Racing Brands Patch Carousel -->
      <div id="patches-racing-brands-carousel" style="display:none;">
        {% for product in collections['patches-racing-brands'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Diesel Patch Carousel -->
      <div id="patches-diesel-carousel" style="display:none;">
        {% for product in collections['patches-diesel'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Drag Racing Patch Carousel -->
      <div id="patches-drag-racing-carousel" style="display:none;">
        {% for product in collections['patches-drag-racing'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Hunting Fishing Guns Patch Carousel -->
      <div id="patches-hunting-fishing-guns-carousel" style="display:none;">
        {% for product in collections['patches-hunting-fishing-guns'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Motorcycle Brands Patch Carousel -->
      <div id="patches-motorcycle-brands-carousel" style="display:none;">
        {% for product in collections['patches-motorcycle-brands'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- National Parks Patch Carousel -->
      <div id="patches-national-parks-carousel" style="display:none;">
        {% for product in collections['patches-national-parks'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Miscellaneous Patch Carousel -->
      <div id="patches-miscellaneous-carousel" style="display:none;">
        {% for product in collections['patches-miscellaneous'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

    </div>

    <!-- Hat Carousels Container -->
    <div class="hat-carousels">

      <!-- Default All Hats Carousel -->
      <div id="hats-all-carousel">
        {% for product in collections['hats'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Richardson Hat Carousel -->
      <div id="hats-richardson-carousel" style="display:none;">
        {% for product in collections['richardson'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Imperial Hat Carousel -->
      <div id="hats-imperial-carousel" style="display:none;">
        {% for product in collections['imperial'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Yupoong Hat Carousel -->
      <div id="hats-yupoong-carousel" style="display:none;">
        {% for product in collections['yupoong'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Pacific Hat Carousel -->
      <div id="hats-pacific-carousel" style="display:none;">
        {% for product in collections['pacific'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Flexfit Hat Carousel -->
      <div id="hats-flexfit-carousel" style="display:none;">
        {% for product in collections['flexfit'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Hat Builder Footer -->
  <div class="hat-builder-footer">
    <!-- Play/pause icon -->
    <div id="playPauseIcon" data-state="playing">
      <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 7.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75Z" fill="#161616" />
        <path d="M12.75 8a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 1.5 0v-4Z" fill="#161616" />
        <path fill-rule="evenodd" d="M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"
          fill="#161616" />
      </svg>
    </div>

  </div>