<!-- Load jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.js"></script>

<!-- Load Slick Carousel CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css" />

<!-- Load Custom CSS -->
{{ 'hat-builder.css' | asset_url | stylesheet_tag }}

<!-- Load Custom JS -->
{{ 'hat-builder.js' | asset_url | script_tag }}

<!-- ENTIRE Hat Builder Container -->
<div class="hat-builder-container">

  <!-- Hat Builder Header -->
  <div class="hat-builder-header">
    <div class="hat-builder-heading">Hat Builder</div>
  </div>

  <!-- Tabs to switch between patches and hats -->
  <div class="toggle-section">
    <div class="toggle-container">
      <!-- Existing Tabs -->
      <div class="toggle-button active" id="patchesToggle">
        <img
          src="https://cdn.shopify.com/s/files/1/0569/9295/6486/files/D238D762-E827-4BE8-BF0F-1BEB9A99CDA9.png?v=1696605239"
          alt="Patch Icon" width="20" height="20" style="margin-right: 8px;">Patches
      </div>
      <div class="toggle-button" id="hatsToggle">
        <img
          src="https://cdn.shopify.com/s/files/1/0569/9295/6486/files/34FBE93F-4A92-4E89-A068-7CBC5D1F4ECC.png?v=1696605239"
          alt="Hat Icon" width="26" height="26" style="margin-right: 8px;">Hats
      </div>
      <!-- Active state background -->
      <div class="active-background"> </div>
    </div>
  </div>
  
  <!-- Hat Builder Drop-Down -->
  <div class="hatBuilderDropDown">
    <!-- Patch Drop-Down Menu -->
    <div id="patchDropDown" class="hatBuilderDropDown">
      <!-- Patch Collection List -->
      <div id="patchCollectionList" class="hatBuilderCollectionList">
        <!-- Collection Card 1: Nascar Drivers & Teams -->
        <div class="hatBuilderCollectionCard" id="patches-nascar-drivers-teams">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Nascar Drivers & Teams</h3>
            <p class="hatBuilderCardCount">40 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="https://cdn.shopify.com/s/files/1/0569/9295/6486/files/IMG_6130.png?v=1697119002" alt="Nascar Drivers & Teams Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 2: Speedways Racing Series -->
        <div class="hatBuilderCollectionCard" id="patches-speedways-racing-series">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Speedways Racing Series</h3>
            <p class="hatBuilderCardCount">30 patches</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="https://cdn.shopify.com/s/files/1/0569/9295/6486/files/IMG_6129.png?v=1697118976" alt="Speedways Racing Series Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- existing patch Collection Cards... -->

      </div>
    </div>

    <!-- Hat Drop-Down Menu -->
    <div id="hatDropDown" style="justify-content: flex-end;" class="hatBuilderDropDown">
      <!-- Hat Collection List -->
      <div id="hatCollectionList" class="hatBuilderCollectionList">
        <!-- Collection Card 1: Richardson -->
        <div class="hatBuilderCollectionCard" id="richardson">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Richardson</h3>
            <p class="hatBuilderCardCount">20 hats</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="https://cdn.shopify.com/s/files/1/0569/9295/6486/files/IMG_4986.png?v=1697118955" alt="Richardson Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- Collection Card 2: Imperial -->
        <div class="hatBuilderCollectionCard" id="imperial">
          <div class="hatBuilderCardLeft">
            <h3 class="hatBuilderCardTitle">Imperial</h3>
            <p class="hatBuilderCardCount">15 hats</p>
          </div>
          <div class="hatBuilderCardRight">
            <img src="https://cdn.shopify.com/s/files/1/0569/9295/6486/files/IMG_4990.png?v=1697118956" alt="Imperial Image" class="hatBuilderCardImage">
          </div>
        </div>
        <!-- existing hat Collection Cards... -->

      </div>
    </div>
  </div>

</div>

    <div class="hat-builder-collection-label-container">
      <span class="hat-builder-collection-icon">
        <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <path d="" fill="#161616" />
          <path fill-rule="evenodd"
            d=""
            fill="#161616" />
          <path
            d=""
            fill="#161616" />
        </svg>
      </span>
      <span class="hat-builder-collection-label">All Patches</span>
    </div>

  <!-- Hat Builder Carousel -->
  <div class="hat-builder-carousel-container">

    <!-- Patch Carousels Container -->
    <div class="patch-carousels">

      <!-- Default All Patches Carousel -->
      <div id="patches-all-carousel">
        {% for product in collections['patches'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Nascar Drivers Teams Patch Carousel -->
      <div id="patches-nascar-drivers-teams-carousel" style="display:none;">
        {% for product in collections['patches-nascar-drivers-teams'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Speedways Racing Series Patch Carousel -->
      <div id="patches-speedways-racing-series-carousel" style="display:none;">
        {% for product in collections['patches-speedways-racing-series'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- existing Patch Carousels... -->

    </div>

    <!-- Hat Carousels Container -->
    <div class="hat-carousels">

      <!-- Default All Hats Carousel -->
      <div id="hats-all-carousel">
        {% for product in collections['hats'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Richardson Hat Carousel -->
      <div id="hats-richardson-carousel" style="display:none;">
        {% for product in collections['richardson'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- Imperial Hat Carousel -->
      <div id="hats-imperial-carousel" style="display:none;">
        {% for product in collections['imperial'].products %}
        <div>
          <img src="{{ product.images.first | img_url: 'medium' }}" alt="{{ product.title }}">
        </div>
        {% endfor %}
      </div>

      <!-- existing Hat Carousels... -->

    </div>
  </div>